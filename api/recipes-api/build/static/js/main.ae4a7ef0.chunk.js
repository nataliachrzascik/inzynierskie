(this["webpackJsonpreact-redux-jwt-auth"]=this["webpackJsonpreact-redux-jwt-auth"]||[]).push([[0],{146:function(e,t,a){},152:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(44),r=a.n(c),i=(a(146),a(15)),o=a(16),l=a(33),j=a(40),d=a(39),u=a(20),b=a(23),h=a(17),m=(a(151),a(152),a(70)),p=a.n(m),O=a(54),g=a.n(O),f=a(71),x=a.n(f),v="REGISTER_SUCCESS",y="REGISTER_FAIL",N="LOGIN_SUCCESS",S="LOGIN_FAIL",A="LOGOUT",E="SET_MESSAGE",w="CLEAR_MESSAGE",P="ADD_RECIPE",k="GET_RECIPES",D="GET_ITEM_RECIPE",C="GET_MY_RECIPES",I="CHANGE_MY_PERSONAL_DATA",R="GET_MY_DATA",T="GET_USER_PROFILE",z=a(19),L=a.n(z),G="https://dyplomowe.herokuapp.com/api/auth/",Z=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"login",value:function(e,t){return L.a.post(G+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a){return L.a.post(G+"signup",{username:e,email:t,password:a})}}]),e}()),B=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"add",value:function(e,t,a,n,s,c,r){return L.a.post("https://dyplomowe.herokuapp.com/api/recipes/add",{nick:e,title:t,category:a,ingredients:n,descryption:s,name:c,file:r})}}]),e}()),F=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getRecipes",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/recipes/get/"+e)}}]),e}()),Q=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getItemRecipe",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/getOneRecipe/"+e)}}]),e}()),M=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"addComment",value:function(e,t,a){return console.log("comment"),L.a.post("https://dyplomowe.herokuapp.com/api/addComment/"+t,{comment:e,id:t,activeUser:a})}}]),e}()),U=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getMyRecipes",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/myRecipes/get/"+e)}}]),e}()),J=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"changeMyPersonalData",value:function(e,t,a,n,s,c){return L.a.post("https://dyplomowe.herokuapp.com/api/changeMyPersonalData/"+e,{activeUser:e,name:t,sex:a,city:n,descryption:s,file:c})}}]),e}()),W=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getMyData",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/myData/get/"+e)}}]),e}()),X=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getProfileData",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/users/"+e)}}]),e}()),Y=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"addToFavourite",value:function(e,t){return L.a.post("https://dyplomowe.herokuapp.com/api/addToFavourite/",{path:e,userID:t})}}]),e}()),q=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"addToFriends",value:function(e,t){return console.log("add to friends"),L.a.post("https://dyplomowe.herokuapp.com/api/addToFriends/",{myID:e,friendID:t})}}]),e}()),H=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getFavouriteRecipes",value:function(e){return L.a.post("https://dyplomowe.herokuapp.com/api/getFavoutiteRecipes/",{tableID:e})}}]),e}()),V=function(e){return function(t){return U.getMyRecipes(e).then((function(e){return t({type:C,payload:e}),t({type:E,payload:e.data.message}),Promise.resolve(e)}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_MY_RECIPES_FAIL"}),t({type:E,payload:a}),Promise.reject()}))}},K=function(e){return function(t){return W.getMyData(e).then((function(e){return t({type:R,payload:e}),t({type:E,payload:e.data.message}),Promise.resolve(e)}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_MY_DATA_FAIL"}),t({type:E,payload:a}),Promise.reject()}))}},_=function(e){return function(t){return X.getProfileData(e).then((function(e){return t({type:T,payload:e}),t({type:E,payload:e.data.message}),Promise.resolve(e)}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_USER_PROFILE_FAIL"}),t({type:E,payload:a}),Promise.reject()}))}},$=a(0),ee=function(e){if(!e)return Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},te=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(l.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(l.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(l.a)(n)),n.state={username:"",password:"",loading:!1},n}return Object(o.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),this.form.validateAll();var a,n,s=this.props,c=s.dispatch,r=s.history;0===this.checkBtn.context._errors.length?c((a=this.state.username,n=this.state.password,function(e){return Z.login(a,n).then((function(t){return e({type:N,payload:{user:t}}),Promise.resolve()}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:S}),e({type:E,payload:a}),Promise.reject()}))})).then((function(){r.push("/mainPage"),window.location.reload()})).catch((function(){t.setState({loading:!1})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isLoggedIn,n=t.message;return a?Object($.jsx)(b.a,{to:"/profile"}):Object($.jsx)("div",{className:"col-md-12",children:Object($.jsxs)("div",{className:"card card-container",children:[Object($.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object($.jsxs)(p.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"username",children:"Nazwa u\u017cytkownika"}),Object($.jsx)(g.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[ee]})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"password",children:"Has\u0142o"}),Object($.jsx)(g.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[ee]})]}),Object($.jsx)("div",{className:"form-group",children:Object($.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object($.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object($.jsx)("span",{children:"Zaloguj"})]})}),n&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:n})}),Object($.jsx)(x.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),a}(n.Component);var ae=Object(u.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,message:e.message.message}}))(te),ne=a(122),se=function(e){if(!e)return Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:"To pole jest wymagane!"})},ce=function(e){if(!Object(ne.isEmail)(e))return Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:"To nie jest poprawny adres email!"})},re=function(e){if(e.length<3||e.length>20)return Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Nazwa u\u017cytkownika musi mie\u0107 min 3 znaki, a max 20"})},ie=function(e){if(e.length<6||e.length>40)return Object($.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},oe=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleRegister=n.handleRegister.bind(Object(l.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(l.a)(n)),n.onChangeEmail=n.onChangeEmail.bind(Object(l.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(l.a)(n)),n.state={username:"",email:"",password:"",successful:!1},n}return Object(o.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t,a,n,s=this;e.preventDefault(),this.setState({successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&this.props.dispatch((t=this.state.username,a=this.state.email,n=this.state.password,function(e){return Z.register(t,a,n).then((function(t){return e({type:v}),e({type:E,payload:t.data.message}),Promise.resolve()}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:y}),e({type:E,payload:a}),Promise.reject()}))})).then((function(){s.setState({successful:!0})})).catch((function(){s.setState({successful:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.message;return Object($.jsx)("div",{className:"col-md-12",children:Object($.jsxs)("div",{className:"card card-container",children:[Object($.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object($.jsxs)(p.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object($.jsxs)("div",{children:[Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"username",children:"Nazwa u\u017cytkownika"}),Object($.jsx)(g.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[se,re]})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email",children:"Email"}),Object($.jsx)(g.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[se,ce]})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"password",children:"Has\u0142o"}),Object($.jsx)(g.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[se,ie]})]}),Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("button",{className:"btn btn-primary btn-block",children:"Zarejestruj"})})]}),t&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:t})}),Object($.jsx)(x.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),a}(n.Component);var le=Object(u.b)((function(e){return{message:e.message.message}}))(oe);function je(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}var de="https://dyplomowe.herokuapp.com/api/test/",ue=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"getPublicContent",value:function(){return L.a.get(de+"all")}},{key:"getUserPage",value:function(){return L.a.get(de+"user",{headers:je()})}},{key:"getAdminPage",value:function(){return L.a.get(de+"admin",{headers:je()})}}]),e}()),be=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={content:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;ue.getPublicContent().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data||t.message||t.toString()})}))}},{key:"render",value:function(){return Object($.jsx)("div",{className:"guestPage",children:Object($.jsx)("div",{className:"container ",children:Object($.jsx)("header",{className:"jumbotron guest",children:Object($.jsx)("h3",{children:"Zaloguj si\u0119 lub przejd\u017a na stron\u0119 g\u0142\xf3wn\u0105!"})})})})}}]),a}(n.Component),he=a(5),me=a(52),pe=a(49),Oe=a(125),ge=a(126),fe=a(21),xe=JSON.parse(localStorage.getItem("user")),ve=xe?{isLoggedIn:!0,user:xe}:{isLoggedIn:!1,user:null},ye={},Ne={paylooad:""},Se=Object(pe.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:case y:return Object(fe.a)(Object(fe.a)({},e),{},{isLoggedIn:!1});case N:return Object(fe.a)(Object(fe.a)({},e),{},{isLoggedIn:!0,user:n.user});case S:case A:return Object(fe.a)(Object(fe.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return{message:n};case w:return{message:""};default:return e}},recipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case P:case I:return Object(fe.a)({},e);case k:case D:case C:return Object(fe.a)(Object(fe.a)({},e),{},{paylooad:n.data.recipe});case R:return Object(fe.a)(Object(fe.a)({},e),{},{paylooad:n.data.data});case T:return console.log(n.data),Object(fe.a)(Object(fe.a)({},e),{},{paylooad:n.data.data});default:return e}}}),Ae=[ge.a],Ee=Object(pe.createStore)(Se,Object(Oe.composeWithDevTools)(pe.applyMiddleware.apply(void 0,Ae))),we=a(300),Pe=a(295),ke=a(294),De=a(297);var Ce=Object(u.b)((function(e){return{message:e.message.message}}))((function(e){var t=Object(n.useState)([]),a=Object(he.a)(t,2),s=(a[0],a[1],Object(n.useState)(!1)),c=Object(he.a)(s,2),r=(c[0],c[1]),i=Object(n.useState)(""),o=Object(he.a)(i,2),l=o[0],j=o[1],d=Object(n.useState)("Kobieta"),u=Object(he.a)(d,2),b=u[0],m=u[1],p=Object(n.useState)(""),O=Object(he.a)(p,2),g=O[0],f=O[1],x=Object(n.useState)(""),v=Object(he.a)(x,2),y=v[0],N=v[1],S=Object(n.useState)(""),A=Object(he.a)(S,2),w=A[0],P=A[1],k=Object(n.useState)(""),D=Object(he.a)(k,2),C=(D[0],D[1],Ee.getState().auth.user.id);function R(){if(this.files&&this.files[0]){var e=new FileReader;e.addEventListener("load",(function(e){P(e.target.result),document.getElementById("img").src=e.target.result})),e.readAsDataURL(this.files[0])}}Object(n.useEffect)((function(){document.getElementById("inp").addEventListener("change",R)}),[w]);e.message;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(h.b,{to:{pathname:"/profile"},children:Object($.jsx)(we.a,{variant:"contained",children:"X"})}),Object($.jsx)("h1",{children:"Zmie\u0144 swoje dane osobowe"}),Object($.jsxs)("form",{method:"POST",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),r(!1),e.dispatch(function(e,t,a,n,s,c){return function(r){return J.changeMyPersonalData(e,t,a,n,s,c).then((function(e){return r({type:I}),r({type:E,payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:"CHANGE_MY_PERSONAL_DATA_FAIL"}),r({type:E,payload:t}),Promise.reject()}))}}(C,l,b,g,y,w)).then((function(){r(!0),window.location.reload()})).catch((function(){r(!1)}))},children:[Object($.jsx)(Pe.a,{label:"Imi\u0119",variant:"outlined",name:"name",placeholder:"Imi\u0119",onChange:function(e){j(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Wybierz p\u0142e\u0107:"}),Object($.jsxs)(ke.a,{name:"sex",onChange:function(e){m(e.target.value)},children:[Object($.jsx)(De.a,{value:"female",children:"Kobieta"}),Object($.jsx)(De.a,{value:"male",children:"M\u0119\u017cczyzna"}),Object($.jsx)(De.a,{value:"other",children:"Inne"})]}),Object($.jsx)("br",{}),Object($.jsx)(Pe.a,{variant:"outlined",label:"Miasto",name:"city",placeholder:"Miasto",onChange:function(e){f(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)(Pe.a,{className:"longLabel",multiline:!0,variant:"outlined",label:"Opis mnie",name:"descryption",placeholder:"Opis mnie",onChange:function(e){N(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Zdj\u0119cie profilowe:"}),Object($.jsx)("input",{id:"inp",type:"file"}),Object($.jsx)("br",{}),Object($.jsx)("img",{id:"img",height:"150",alt:"images"}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("input",{hidden:!0,name:"fileValue",value:w}),Object($.jsx)(we.a,{variant:"contained",type:"submit",children:"Wy\u015blij zmiany"})]})]})})),Ie=a.p+"static/media/pot.cb3a127b.jpg";var Re=Object(u.b)((function(e){return{user:e.auth.user,message:e.message.message}}))((function(e){console.log(e.data);var t=Object(n.useState)(!1),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(he.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!0),d=Object(he.a)(j,2),u=d[0],b=d[1];return Object(n.useEffect)((function(){var t;console.log("succes data"),e.dispatch((t=e.data,function(e){return H.getFavouriteRecipes(t).then((function(t){return e({type:"GET_FAVOURITE_RECIPES",payload:t}),e({type:E,payload:t.data.message}),Promise.resolve(t)}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:"GET_FAVOURITE_RECIPES_FAIL"}),e({type:E,payload:a}),Promise.reject()}))})).then((function(e){console.log("resssss"),l(e.data.recipe),e.data.recipe===[]&&b(!0),c(!0)})).catch((function(){c(!1)}))}),[]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)("h1",{children:"ULUBIONE PRZEPISY:"}),s?u?o.map((function(e,t){return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("img",{className:"card-img-top",src:e.file?e.file:Ie,alt:"Card image"}),Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e.title}),Object($.jsx)(h.b,{to:{pathname:"/mainPage/recipe/".concat(e._id),query:{recipe:e}},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz przepis"})})]})]},t)})):Object($.jsx)("h1",{children:"Brak ulubionych przepis\xf3w"}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"})]})}));var Te=Object(u.b)((function(e){return{user:e.auth.user,message:e.message.message}}))((function(e){var t=Object(n.useState)([]),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(he.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!1),d=Object(he.a)(j,2),u=d[0],m=d[1],p=Object(n.useState)(!1),O=Object(he.a)(p,2),g=O[0],f=O[1],x=Object(n.useState)(!1),v=Object(he.a)(x,2);v[0],v[1];Object(n.useEffect)((function(){var t=y.username;e.dispatch(V(t)).then((function(e){c(e.data.recipe),m(!0)})).catch((function(){m(!1)})),e.dispatch(K(t)).then((function(e){l(e.data.data),f(!0)})).catch((function(){f(!1)}))}),[]);var y=e.user;if(!y)return Object($.jsx)(b.a,{to:"/login"});var N=e.message;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"container",children:[Object($.jsx)("header",{className:"jumbotron jumbophoto",children:Object($.jsx)("h3",{children:Object($.jsx)("strong",{children:y.username})})}),g?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"spaceX"}),Object($.jsx)("img",{className:"profilePhoto",src:o[0].file?o[0].file:Ie,alt:"images"}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsxs)("p",{children:[Object($.jsx)("strong",{children:"EMAIL:"})," ",y.email]}),Object($.jsxs)("p",{children:[Object($.jsx)("strong",{children:"IMI\u0118:"}),o[0].name?o[0].name:" nie podano"]}),Object($.jsxs)("p",{children:[Object($.jsx)("strong",{children:"P\u0141E\u0106:"}),o[0].sex?o[0].sex:" nie podano"]}),Object($.jsxs)("p",{children:[Object($.jsx)("strong",{children:"MIASTO:"}),o[0].city?o[0].city:" nie podano"]}),Object($.jsxs)("p",{children:[Object($.jsx)("strong",{children:"O MNIE:"}),o[0].descryption?o[0].descryption:" nie podano",Object($.jsxs)("p",{children:[Object($.jsx)("div",{className:"spaceX"}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:{pathname:"/profile/changeData/".concat(y.username)},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zmie\u0144 dane osobowe"})}),Object($.jsx)("br",{}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsx)(b.b,{path:"/profile/changeData/",component:Ce}),Object($.jsx)("h1",{children:"ZNAJOMI:"}),Object($.jsx)("div",{className:"spaceX"}),0!==o[0].friends.length?o[0].friends.map((function(e,t){return Object($.jsx)("div",{children:Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:"/userAccount/".concat(e.friendID),children:Object($.jsx)("h4",{children:e.friendID})})},t)})):Object($.jsx)("h4",{children:"Brak znajomych"}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsx)(Re,{data:o[0].favourite}),Object($.jsx)("div",{className:"spaceX"})]})]})]}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"}),N&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:u?"alert alert-success":"alert alert-danger",role:"alert",children:N})}),Object($.jsx)("h1",{children:"PRZEPISY DODANE PRZEZE MNIE:"})]}),Object($.jsx)(me.a,{children:u?s?s.map((function(e,t){return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("img",{className:"card-img-top",src:e.file?e.file:Ie,alt:"Card image"}),Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e.title}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:{pathname:"/mainPage/recipe/".concat(e._id),query:{recipe:e}},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz przepis"})})]})]},t)})):Object($.jsx)("p",{children:"Brak przepis\xf3w"}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"})})]})})),ze=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={content:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;ue.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object($.jsx)("div",{className:"container",children:Object($.jsx)("header",{className:"jumbotron",children:Object($.jsx)("h3",{children:this.state.content})})})}}]),a}(n.Component),Le=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={content:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;ue.getAdminBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object($.jsx)("div",{className:"container",children:Object($.jsx)("header",{className:"jumbotron",children:Object($.jsx)("h3",{children:"Zaloguj si\u0119 lub przejd\u017a na stron\u0119 g\u0142\xf3wn\u0105!"})})})}}]),a}(n.Component);var Ge=Object(u.b)((function(e){return{message:e.message.message}}))((function(e){var t=Object(n.useState)(""),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),i=Object(he.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)("sweets"),d=Object(he.a)(j,2),u=d[0],b=d[1],h=Object(n.useState)(""),m=Object(he.a)(h,2),p=m[0],O=m[1],g=Object(n.useState)(""),f=Object(he.a)(g,2),x=f[0],v=f[1],y=Object(n.useState)(""),N=Object(he.a)(y,2),S=N[0],A=N[1],w=Object(n.useState)(""),k=Object(he.a)(w,2),D=k[0],C=k[1],I=Object(n.useState)(""),R=Object(he.a)(I,2),T=(R[0],R[1],Object(n.useState)("")),z=Object(he.a)(T,2),L=z[0],G=z[1],Z=Ee.getState().auth.user.username;Object(n.useEffect)((function(){document.getElementById("inp").addEventListener("change",F),c(Z)}),[D]);function F(){if(this.files&&this.files[0]){var e=new FileReader;e.addEventListener("load",(function(e){C(e.target.result),document.getElementById("img").src=e.target.result})),e.readAsDataURL(this.files[0])}}var Q=e.message;return Object($.jsxs)("div",{id:"add",children:[Object($.jsx)("h1",{children:"Dodawanie przepisu"}),Object($.jsxs)("form",{method:"POST",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault(),G(!1),e.dispatch(function(e,t,a,n,s,c,r){return function(i){return B.add(e,t,a,n,s,c,r).then((function(e){return i({type:P}),i({type:E,payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return i({type:"ADD_RECIPE_FAIL"}),i({type:E,payload:t}),Promise.reject()}))}}(s,o,u,p,x,S,D)).then((function(){G(!0)})).catch((function(){G(!1)}))},children:[Object($.jsx)("p",{children:"Nazwa potrawy:"}),Object($.jsx)(Pe.a,{className:"longLabel",label:"Nazwa potrawy",variant:"outlined",type:"text",name:"title",onChange:function(e){l(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Wybierz kategori\u0119:"}),Object($.jsxs)(ke.a,{name:"category",id:"cat",onChange:function(e){b(e.target.value)},children:[Object($.jsx)(De.a,{value:"sweets",children:"S\u0142odko\u015bci"}),Object($.jsx)(De.a,{value:"dishes",children:"Dania g\u0142\xf3wne"}),Object($.jsx)(De.a,{value:"soups",children:"Zupy"}),Object($.jsx)(De.a,{value:"salads",children:"Sa\u0142atki"})]}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Sk\u0142adniki (oddzielone \u015brednikami np. woda;s\xf3l):"}),Object($.jsx)(Pe.a,{label:"Sk\u0142adniki",name:"ingredients",className:"longLabel",multiline:!0,fullWidth:!0,onChange:function(e){O(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Opis przygotowania:"}),Object($.jsx)(Pe.a,{label:"Opis przygotowania",className:"longLabel",name:"descryption",multiline:!0,fullWidth:!0,onChange:function(e){v(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Opis zdj\u0119cia:"}),Object($.jsx)(Pe.a,{label:"Opis zdj\u0119cia",className:"longLabel",variant:"outlined",name:"name",onChange:function(e){A(e.target.value)}}),Object($.jsx)("br",{}),Object($.jsx)("p",{children:"Zdj\u0119cie potrawy :"}),Object($.jsx)("input",{id:"inp",type:"file"}),Object($.jsx)("br",{}),Object($.jsx)("img",{id:"img",height:"150",alt:"images"}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)("input",{hidden:!0,name:"fileValue",value:D}),Object($.jsx)(we.a,{variant:"contained",type:"submit",children:"Wy\u015blij przepis"}),Q&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:L?"alert alert-success":"alert alert-danger",role:"alert",children:Q})})]})]})}));var Ze=Object(u.b)((function(e){var t=e.auth.user;return{message:e.message.message,user:t}}))((function(e){var t,a=Object(n.useState)([]),s=Object(he.a)(a,2),c=s[0],r=s[1],i=Object(n.useState)(!1),o=Object(he.a)(i,2),l=o[0],j=o[1],d=Object(n.useState)(""),u=Object(he.a)(d,2),m=u[0],p=u[1],O=Object(n.useState)(!1),g=Object(he.a)(O,2),f=g[0],x=g[1],v=Ee.getState().auth.user.username;Object(n.useEffect)((function(){var t;if(e.location.hasOwnProperty("query")?e.location.query.recipe:null)r(e.location.query.recipe),j(!0);else{var a=e.location.pathname.substring(17);e.dispatch((t=a,function(e){return console.log("GetItemRecipe in client auth.js"),Q.getItemRecipe(t).then(console.log("resposne"),(function(t){return console.log(t),e({type:D,payload:t}),e({type:E,payload:t.data.message}),Promise.resolve(t)}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:"GET_ITEM_RECIPE_FAIL"}),e({type:E,payload:a}),Promise.reject()}))})).then((function(e){r(e.data.recipe[0]),j(!0)})).catch((function(e){console.log("err in RecipeCard"),console.log(e)}))}}),[]);if(!e.user)return Object($.jsx)(b.a,{to:"/login"});var y=e.message;return Object($.jsxs)($.Fragment,{children:[l?Object($.jsxs)("div",{classname:"recipeText",children:[Object($.jsx)(we.a,{variant:"outlined",className:" favourite",onClick:function(){var t,a,n=Ee.getState().auth.user.id,s=e.location.pathname.substring(17);e.dispatch((t=s,a=n,function(e){return Y.addToFavourite(t,a).then((function(t){return e({type:"ADD_TO_FAVOURITE"}),e({type:E,payload:t.data.message}),Promise.resolve()}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:"ADD_TO_FAVOURITE_FAIL"}),e({type:E,payload:a}),Promise.reject()}))})).then((function(){x(!0),p("")})).catch((function(){x(!1)}))},children:"Dodaj do ulubionych"}),y&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:f?"alert alert-success":"alert alert-danger",role:"alert",children:y})}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{clasName:"recipeTitles",children:"NAZWA DANIA:"})," ",c.title]}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{clasName:"recipeTitles",children:"KATEGORIA:"})," ",c.category]}),Object($.jsx)("p",{children:Object($.jsx)("span",{clasName:"recipeTitles",children:"SK\u0141ADNIKI:"})}),(t=c.ingredients.split(";"),t.map((function(e,t){return Object($.jsx)("p",{children:e},t)}))),Object($.jsxs)("p",{children:[Object($.jsx)("span",{clasName:"recipeTitles",children:"SPOS\xd3B PRZYGOTOWANIA:"}),Object($.jsx)("br",{})," ",c.descryption]}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{clasName:"recipeTitles",children:"O DANIU:"})," ",c.name]}),Object($.jsx)("img",{className:"recipeImg",src:c.file,alt:"dish"}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{clasName:"recipeTitles",children:"NAZWA U\u017bYTKOWNIKA:"})," ",c.nick]}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:"/userAccount/".concat(c.nick),children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz profil"})}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsxs)("div",{children:[Object($.jsx)("h1",{children:Object($.jsx)("span",{clasName:"recipeTitles",children:"SEKCJA KOMENTARZY"})}),Object($.jsx)("div",{className:"spaceX"}),Object($.jsxs)("form",{method:"POST",encType:"multipart/form-data",onSubmit:function(t){t.preventDefault();var a=e.location.pathname.substring(17);e.dispatch(function(e,t,a){return function(n){return M.addComment(e,t,a).then((function(e){return n({type:"ADD_COMMENT"}),n({type:E,payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return n({type:"ADD_COMMENT_FAIL"}),n({type:E,payload:t}),Promise.reject()}))}}(m,a,v)).then((function(){x(!0),p("")})).catch((function(){x(!1)})),window.location.reload()},children:[Object($.jsx)(Pe.a,{id:"commentInput",label:"Komentarz",multiline:!0,fullWidth:!0,defaultValue:"Napisz komentarz..",onChange:function(e){p(e.target.value)},value:m})," ",Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsx)(we.a,{variant:"contained",className:"sendComment",type:"submit",children:"Prze\u015blij komentarz"})]}),Object($.jsx)("div",{className:"spaceX"}),c.comments?c.comments.map((function(e,t){return Object($.jsxs)("div",{className:"commentBlock",children:[Object($.jsx)(h.c,{style:{color:"grey",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:"/mainPage/users/".concat(e.nick),children:Object($.jsx)("div",{className:"commentNick",children:e.nick})}),Object($.jsx)("div",{style:{display:"inline-block"},children:e.text})]},t)})):null]})]}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"}),Object($.jsx)("div",{className:"spaceX"})]})}));var Be=Object(u.b)((function(e){return{message:e.message.message}}))((function(e){var t=Object(n.useState)([]),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object(he.a)(r,2),o=i[0],l=i[1],j=e.location.pathname.substring(1),d=j.indexOf("/");j=j.substring(d+1);var u=function(t){e.dispatch(function(e){return function(t){return F.getRecipes(e).then((function(e){return t({type:k,payload:e}),t({type:E,payload:e.data.message}),Promise.resolve(e)}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return t({type:"GET_RECIPES_FAIL"}),t({type:E,payload:a}),Promise.reject()}))}}(t)).then((function(e){c(e.data.recipe.reverse()),l(!0)})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){var t=e.location.pathname.substring(1),a=t.indexOf("/");t=t.substring(a+1),u(t)}),[e.location.pathname]),Object($.jsx)(me.a,{children:o?s?s.map((function(e,t){return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("img",{className:"card-img-top",src:e.file?e.file:Ie,alt:"Card image"}),Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e.title}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:{pathname:"/mainPage/recipe/".concat(e._id),query:{recipe:e}},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz przepis"})})]})]},t)})):null:Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"})})})),Fe=a(303);var Qe=Object(u.b)((function(e){return{message:e.message.message}}))((function(e){e.message;return Object($.jsx)($.Fragment,{children:Object($.jsx)("div",{id:"main",children:Object($.jsxs)("div",{className:"blog",children:[Object($.jsx)("div",{className:"showRecipesMenu",children:Object($.jsxs)(Fe.a,{size:"large","aria-label":"large button group",children:[Object($.jsx)(h.c,{to:"/mainPage/soups",style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},children:Object($.jsx)(we.a,{variant:"outlined",className:"recipeCategory",children:"zupy"})}),Object($.jsx)(h.c,{to:"/mainPage/dishes",style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},children:Object($.jsx)(we.a,{variant:"outlined",className:"recipeCategory",children:"g\u0142\xf3wne"})}),Object($.jsx)(h.c,{to:"/mainPage/sweets",style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},children:Object($.jsx)(we.a,{variant:"outlined",className:"recipeCategory",id:"sweet",children:"s\u0142odko\u015bci"})}),Object($.jsx)(h.c,{to:"/mainPage/salads",style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},children:Object($.jsx)(we.a,{variant:"outlined",className:"recipeCategory",children:"sa\u0142atki"})})]})}),Object($.jsxs)(b.d,{children:[Object($.jsx)(b.b,{exact:!0,path:"/mainPage/soups",component:Be}),Object($.jsx)(b.b,{exact:!0,path:"/mainPage/dishes",component:Be}),Object($.jsx)(b.b,{exact:!0,path:"/mainPage/sweets",component:Be}),Object($.jsx)(b.b,{exact:!0,path:"/mainPage/salads",component:Be}),Object($.jsx)(b.b,{exact:!0,path:"/mainPage",component:Be})]})]})})})})),Me="data:image/png;base64,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";var Ue=Object(u.b)((function(e){return{user:e.auth.user,message:e.message.message}}))((function(e){var t=Object(n.useState)(!1),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(he.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)([]),d=Object(he.a)(j,2),u=d[0],m=d[1],p=Object(n.useState)(!1),O=Object(he.a)(p,2),g=O[0],f=O[1];if(Object(n.useEffect)((function(){var t=e.location.pathname.slice(16);e.dispatch(_(t)).then((function(e){l(e.data.data[0]),c(!0)})).catch((function(){c(!1)})),e.dispatch(V(t)).then((function(e){m(e.data.recipe),f(!0)})).catch((function(){f(!1)}))}),[]),!e.user)return Object($.jsx)(b.a,{to:"/login"});e.message;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("h1",{children:"hejoo"}),s?Object($.jsxs)("div",{children:[Object($.jsxs)("h1",{children:["Nick: ",o.username]}),o.file?Object($.jsx)("img",{src:o.file}):Object($.jsx)("img",{src:Me}),o.name?Object($.jsxs)("h5",{children:["Imi\u0119: ",o.name]}):null,o.sex?Object($.jsxs)("h5",{children:["P\u0142e\u0107: ",o.sex]}):null,o.city?Object($.jsxs)("h5",{children:["Miasto: ",o.city]}):null,o.descryption?Object($.jsxs)("h5",{children:["O mnie: ",o.descryption]}):null]}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"}),Object($.jsx)("h1",{children:"Dodane przepisy"}),g?u.map((function(e,t){return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("img",{className:"card-img-top",src:e.file?e.file:Ie,alt:"Card image"}),Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e.title}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:{pathname:"/mainPage/recipe/".concat(e._id),query:{recipe:e}},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz przepis"})})]})]},t)})):Object($.jsx)("p",{children:"Brak"})]})})),Je=function(e){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{id:"menu",children:Object($.jsx)(h.c,{to:"/addRecipe",style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},children:Object($.jsx)("div",{className:"menuItem",children:Object($.jsx)(we.a,{variant:"outlined",children:"Dodaj przepis"})})})}),Object($.jsxs)(b.d,{children:[Object($.jsx)(b.b,{path:"/addRecipe",component:Ge}),Object($.jsx)(b.b,{path:"/mainPage",component:Qe})]}),Object($.jsx)(b.d,{children:Object($.jsx)(b.b,{path:"/mainPage/recipe/",component:Ze})}),Object($.jsx)(b.d,{children:Object($.jsx)(b.b,{path:"/mainPage/users/",component:Ue})})]})};function We(e){return Object($.jsx)(Je,{})}var Xe=Object(u.b)((function(e){return{user:e.auth.user,message:e.message.message}}))((function(e){var t=Object(n.useState)(!1),a=Object(he.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)([]),i=Object(he.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)([]),d=Object(he.a)(j,2),u=d[0],m=d[1],p=Object(n.useState)(!1),O=Object(he.a)(p,2),g=O[0],f=O[1],x=Object(n.useState)(!0),v=Object(he.a)(x,2),y=v[0],N=v[1],S=Object(n.useState)(!0),A=Object(he.a)(S,2),w=A[0],P=A[1];Object(n.useEffect)((function(){var t=e.location.pathname.slice(e.location.pathname.lastIndexOf("/")+1),a=Ee.getState().auth.user.username;t===a&&P(!1);Ee.getState().auth.user.id;e.dispatch(K(a)).then((function(e){void 0!==e.data.data[0].friends.find((function(e){return e.friendID===t}))&&P(!1)})).catch((function(){console.log("error in friend")})),e.dispatch(_(t)).then((function(e){0===e.data.data.length&&N(!1),l(e.data.data[0]),c(!0)})).catch((function(){c(!1)})),e.dispatch(V(t)).then((function(e){m(e.data.recipe),f(!0)})).catch((function(){f(!1)}))}),[]);if(!e.user)return Object($.jsx)(b.a,{to:"/login"});var k=e.message;return Object($.jsxs)($.Fragment,{children:[y?s?Object($.jsxs)("div",{children:[Object($.jsxs)("h1",{children:["Nick: ",o.username]}),w&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)(we.a,{onClick:function(){var t=Ee.getState().auth.user.id,a=e.location.pathname.substring(e.location.pathname.lastIndexOf("/")+1);e.dispatch(function(e,t){return function(a){return q.addToFriends(e,t).then((function(e){return a({type:"ADD_TO_FRIENDS"}),a({type:E,payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:"ADD_TO_FRIENDS_FAIL"}),a({type:E,payload:t}),Promise.reject()}))}}(t,a)).then((function(){console.log("dodano do przyjaci\xf3\u0142")})).catch((function(){console.log("nie dodano do przyjaci\xf3\u0142")}))},children:"Dodaj do znajomych"}),k&&Object($.jsx)("div",{className:"form-group",children:Object($.jsx)("div",{className:s?"alert alert-success":"alert alert-danger",role:"alert",children:k})})]}),o.file?Object($.jsx)("img",{className:"profilePhoto",src:o.file}):Object($.jsx)("img",{className:"profilePhoto",src:Me}),o.name?Object($.jsxs)("h5",{children:["Imi\u0119: ",o.name]}):Object($.jsx)("h5",{children:"IMI\u0118: Nie podano"}),o.sex?Object($.jsxs)("h5",{children:["P\u0142e\u0107: ",o.sex]}):Object($.jsx)("h5",{children:"P\u0141E\u0106: Nie podano"}),o.city?Object($.jsxs)("h5",{children:["Miasto: ",o.city]}):Object($.jsx)("h5",{children:"MIASTO: Nie podano"}),o.descryption?Object($.jsxs)("h5",{children:["O mnie: ",o.descryption]}):Object($.jsx)("h5",{children:"O MNIE: Nie podano"})]}):Object($.jsx)("i",{className:"fas fa-4x fa-spinner fa-spin"}):Object($.jsx)("h1",{children:"Konto zosta\u0142o usuni\u0119te"}),y&&Object($.jsx)("h1",{children:"DODANE PRZEPISY"}),y&&(g?u.map((function(e,t){return Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("img",{className:"card-img-top",src:e.file?e.file:Me,alt:"Card image"}),Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h5",{className:"card-title",children:e.title}),Object($.jsx)(h.b,{style:{color:"white",textDecoration:"none"},activeStyle:{color:"rgb(212, 212, 212)",textDecoration:"none"},to:{pathname:"/mainPage/recipe/".concat(e._id),query:{recipe:e}},children:Object($.jsx)(we.a,{variant:"outlined",children:"Zobacz przepis"})})]})]},t)})):Object($.jsx)("p",{children:"Brak"}))]})})),Ye=a(30),qe=Object(Ye.a)(),He=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logOut=n.logOut.bind(Object(l.a)(n)),n.state={showAdminPage:!1,currentUser:void 0},qe.listen((function(t){e.dispatch({type:w})})),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.user;e&&this.setState({currentUser:e,showAdminPage:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){this.props.dispatch((function(e){Z.logout(),e({type:A})}))}},{key:"render",value:function(){var e=this.state,t=e.currentUser;e.showAdminPage;return console.log(t),Object($.jsx)(h.a,{children:Object($.jsx)(b.c,{history:qe,children:Object($.jsxs)("div",{children:[Object($.jsxs)("nav",{className:"navbar navbar-expand colorHeader",children:[Object($.jsxs)("div",{className:"navbar-nav mr-auto",children:[t?null:Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)(h.b,{to:"/home",className:"nav-link",children:"Strona G\u0142\xf3wna"})}),t&&Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)(h.b,{to:"/mainPage",className:"nav-link",children:"Strona G\u0142\xf3wna"})})]}),t?Object($.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)(h.b,{to:"/profile",className:"nav-link",children:"M\xf3j Profil"})}),Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,children:"Wyloguj"})})]}):Object($.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)(h.b,{to:"/login",className:"nav-link",children:"Zaloguj"})}),Object($.jsx)("li",{className:"nav-item",children:Object($.jsx)(h.b,{to:"/register",className:"nav-link",children:"Zarejestruj"})})]})]}),Object($.jsx)("div",{className:"container mt-3",children:Object($.jsxs)(b.d,{children:[Object($.jsx)(b.b,{exact:!0,path:["/","/home"],component:be}),Object($.jsx)(b.b,{exact:!0,path:"/login",component:ae}),Object($.jsx)(b.b,{exact:!0,path:"/register",component:le}),Object($.jsx)(b.b,{path:"/mainPage",component:t?We:ae}),Object($.jsx)(b.b,{exact:!0,path:"/addRecipe",component:Ge}),Object($.jsx)(b.b,{path:"/profile",component:Te}),Object($.jsx)(b.b,{path:"/user",component:ze}),Object($.jsx)(b.b,{path:"/admin",component:Le}),Object($.jsx)(b.b,{path:"/userAccount",component:Xe})]})})]})})})}}]),a}(n.Component);var Ve=Object(u.b)((function(e){return{user:e.auth.user}}))(He),Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,304)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object($.jsx)(s.a.StrictMode,{children:Object($.jsx)(u.a,{store:Ee,children:Object($.jsx)(Ve,{})})}),document.getElementById("root")),Ke()}},[[257,1,2]]]);
//# sourceMappingURL=main.ae4a7ef0.chunk.js.map